const e={inline:["$","$"],display:["$$","$$"]};document.addEventListener("copy",(function(t){const n=window.getSelection();if(n.isCollapsed)return;const l=n.getRangeAt(0).cloneContents();if(!l.querySelector(".katex-mathml"))return;const o=[];for(let e=0;e<l.childNodes.length;e++)o.push(l.childNodes[e].outerHTML);t.clipboardData.setData("text/html",o.join("")),t.clipboardData.setData("text/plain",function(t,n){void 0===n&&(n=e);const l=t.querySelectorAll(".katex-mathml + .katex-html");for(let e=0;e<l.length;e++){const t=l[e];t.remove?t.remove(null):t.parentNode.removeChild(t)}const o=t.querySelectorAll(".katex-mathml");for(let e=0;e<o.length;e++){const t=o[e],l=t.querySelector("annotation");l&&(t.replaceWith?t.replaceWith(l):t.parentNode.replaceChild(l,t),l.innerHTML=n.inline[0]+l.innerHTML+n.inline[1])}const i=t.querySelectorAll(".katex-display annotation");for(let e=0;e<i.length;e++){const t=i[e];t.innerHTML=n.display[0]+t.innerHTML.substr(n.inline[0].length,t.innerHTML.length-n.inline[0].length-n.inline[1].length)+n.display[1]}return t}(l).textContent),t.preventDefault()}));