(self.webpackChunk=self.webpackChunk||[]).push([[1970],{3905:(e,t,n)=>{"use strict";n.d(t,{Zo:()=>s,kt:()=>m});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=a.createContext({}),u=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},s=function(e){var t=u(e.components);return a.createElement(p.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,p=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),d=u(n),m=r,f=d["".concat(p,".").concat(m)]||d[m]||c[m]||i;return n?a.createElement(f,o(o({ref:t},s),{},{components:n})):a.createElement(f,o({ref:t},s))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=d;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l.mdxType="string"==typeof e?e:r,o[1]=l;for(var u=2;u<i;u++)o[u]=n[u];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},4680:(e,t,n)=>{"use strict";n.r(t),n.d(t,{frontMatter:()=>o,metadata:()=>l,toc:()=>p,default:()=>s});var a=n(2122),r=n(9756),i=(n(7294),n(3905)),o={id:"pythonapi",title:"Python API"},l={unversionedId:"pythonapi",id:"pythonapi",isDocsHomePage:!1,title:"Python API",description:"The .so or .dll object created by make python can be directly imported into a python script. However, for convenience, we suggest you import it through the uclchem module provided with the code. This provides convenient functions to call UCLCHEM, each of which are detailed below.",source:"@site/docs/pythonapi.md",sourceDirName:".",slug:"/pythonapi",permalink:"/docs/pythonapi",version:"current",lastUpdatedBy:"jonholdship",lastUpdatedAt:1621867778,formattedLastUpdatedAt:"5/24/2021",frontMatter:{id:"pythonapi",title:"Python API"},sidebar:"docs",previous:{title:"Running Your First Models",permalink:"/docs/pythonstart"},next:{title:"Physics Modules",permalink:"/docs/physics"}},p=[{value:"run_model",id:"run_model",children:[]},{value:"run_model_for_abundances",id:"run_model_for_abundances",children:[]},{value:"get_species_rates",id:"get_species_rates",children:[]},{value:"read_output_file",id:"read_output_file",children:[]},{value:"create_abundance_plot",id:"create_abundance_plot",children:[]},{value:"plot_species",id:"plot_species",children:[]},{value:"param_dict_from_output",id:"param_dict_from_output",children:[]},{value:"get_rates_of_change",id:"get_rates_of_change",children:[]}],u={toc:p};function s(e){var t=e.components,n=(0,r.Z)(e,["components"]);return(0,i.kt)("wrapper",(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"The .so or .dll object created by ",(0,i.kt)("inlineCode",{parentName:"p"},"make python")," can be directly imported into a python script. However, for convenience, we suggest you import it through the uclchem module provided with the code. This provides convenient functions to call UCLCHEM, each of which are detailed below."),(0,i.kt)("h3",{id:"run_model"},"run","_","model"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},"run_model(param_dict)\n")),(0,i.kt)("p",null,"Run UCLCHEM using variables taking from a dictionary of parameter values. Any parameter\nnot included in the dictionary will be taken from defaultparameters.f90."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Arguments"),":"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"param_dict"),": A dictionary of parameters where keys are any of the variables in\ndefaultparameters.f90 and values are value for current run.")),(0,i.kt)("h3",{id:"run_model_for_abundances"},"run","_","model","_","for","_","abundances"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},"run_model_for_abundances(param_dict)\n")),(0,i.kt)("p",null,"Run UCLCHEM, returning the abundances of up to 50 species at the end of the run. The species are taken from the outSpecies list provided in ",(0,i.kt)("inlineCode",{parentName:"p"},"param_dict"),". This function will still write to file in addition to returning abundances if ",(0,i.kt)("inlineCode",{parentName:"p"},"outFile")," or ",(0,i.kt)("inlineCode",{parentName:"p"},"columnFile")," is provided."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Arguments"),":"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"param_dict"),": A dictionary of parameters where keys are any of the variables in\ndefaultparameters.f90 and values are value for current run.")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Returns"),":"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"An array containing the final abundances of each species in ",(0,i.kt)("inlineCode",{parentName:"li"},"outSpecies"))),(0,i.kt)("h3",{id:"get_species_rates"},"get","_","species","_","rates"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},"get_species_rates(param_dict, input_abundances, reac_indxs)\n")),(0,i.kt)("p",null,"Get the rate of up to 500 reactions from UCLCHEM for a given set of parameters and abundances.\nIntended for use within the analysis script and not for direct use."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Arguments"),":"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"param_dict"),": A dictionary of parameters where keys are any of the variables in\ndefaultparameters.f90 and values are value for current run."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"input_abundances"),": Abundance of every species in network"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"reac_indxs"),": Index of reactions of interest in the network's reaction list.")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Returns"),":"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"An array containing the rates of every reaction in ",(0,i.kt)("inlineCode",{parentName:"li"},"reac_indxs"),".")),(0,i.kt)("h3",{id:"read_output_file"},"read","_","output","_","file"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},"read_output_file(output_file)\n")),(0,i.kt)("p",null,"Read the output of a UCLCHEM run created with the outputFile parameter into a pandas DataFrame"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Arguments"),":"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"output_file"),": - path to file containing a full UCLCHEM output")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Returns"),":"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"A pandas DataFrame with one row per timestep, several cloud parameters such as temperature and the abundance of every species.")),(0,i.kt)("h3",{id:"create_abundance_plot"},"create","_","abundance","_","plot"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},"create_abundance_plot(df, species, plot_file=None)\n")),(0,i.kt)("p",null,"Produce a plot of the abundances of chosen species through time, returning the pyplot\nfigure and axis objects"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Arguments"),":"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"df"),": A dataframe created by ",(0,i.kt)("inlineCode",{parentName:"li"},"read_output_file")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"species"),": A list of species names to be plotted"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"plot_file"),": optional argument with path to file where the plot should be saved")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Returns"),":"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"fig: a matplotlib figure object"),(0,i.kt)("li",{parentName:"ul"},"axis: a matplotlib axis")),(0,i.kt)("h3",{id:"plot_species"},"plot","_","species"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},"plot_species(ax, df, species)\n")),(0,i.kt)("p",null,"Plot the abundance of several species through time onto an existing pyplot axis"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Arguments"),":"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"ax"),": pyplot axis on which to plot"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"df"),": A dataframe created by :func:",(0,i.kt)("inlineCode",{parentName:"li"},"read_output_file")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"species"),": A list of species names to be plotted")),(0,i.kt)("h3",{id:"param_dict_from_output"},"param","_","dict","_","from","_","output"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},"param_dict_from_output(output_line)\n")),(0,i.kt)("p",null,"Generate a parameter dictionary with enough variables to correctly estimate the rates of\nreactions."),(0,i.kt)("h3",{id:"get_rates_of_change"},"get","_","rates","_","of","_","change"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},"get_rates_of_change(rates, reactions, speciesList, species, row)\n")),(0,i.kt)("p",null,"Calculate the terms in the rate of equation of a particular species using rates calculated using\nget_species_rates() and a row from the full output of UCLCHEM."))}s.isMDXComponent=!0}}]);